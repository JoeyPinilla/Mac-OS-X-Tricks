0. Vorwort - Das Linux, nach dem ich immer gesucht habe ...

  Diese Anleitung beschreit, wie ich meinen Mac einrichte.
  Um an alle Terminal Kommandos zu kommen, ohne sie einzeln kopieren zu müssen,
  kann man ein kleines Script ausführen:
  
  > cat Installation\ \&\ Einrichtung.txt | grep '^  [\$#]'
  
  Will man nur die Kommandos zu einem Thema haben, merkt man sich die Zeilen-Nummern 
  von Anfang und Ende und übergiebt sie einem leicht modifizierten Script:
  
  > cat Installation\ \&\ Einrichtung.txt | sed -n '8,12p' | grep '^  [\$#]'
  
  gibt z.B. alle Kommandos und Kommentare zwischen den Zeilen 8 und 12 aus.
  
1. Vorbereitung

  - "/pub/Library/" sollte gefüllt sein
  - Alle dotfiles in ~ sind Links aus /pub/Scripts/*
  - Safari Lesezeichen exportieren
  - Firefox Lesezeichen exportieren
  - Firefox Passwörter exportieren
  - Chrome synchronisiert alles
  - Export NerdTool Scripts
  - Dateien von "/pub/" & "Desktop" sichern
  - USB-Stick formatieren und mit dem Mac OS X Combo Update bespielen
    [http://support.apple.com/downloads/#macosx106]
  - Evtl. gewünschte Festplatten-Icons auf den USB-Stick schieben
  
2. Installation

  - Partition(en) formatieren
  - Nur English als Sprache installieren
  - Keine Druckertreiber installieren
  - Kein Rosetta, Kein Quicktime 7
  - X11 installieren (bringt ein paar nette Scripte mit)
  - XCode & Developer Tools installieren (oder später herunterladen)
    [http://developer.apple.com/technologies/xcode.html]
  - Keine persönlichen Daten eingeben (stattdessen mit dem roten X beenden)
  - Ein Administratorkonto anlegen (möglichst mit einem nicht-ratbaren Namen)
  
3. Einrichten

3.1 Als Administrator

  - Updates einspielen (vom USB-Stick oder Internet)
  - Normales Benutzerkonto anlegen, gleich die richtige Shell vergeben 
    (per Rechtsklick auf den Benutzernamen).
  - Systemeinstellungen absichern
  - Apple Remote Pairen
  - Evtl. Icons der Festplatten ändern

3.2 Als normaler User  

3.2.1 Generelle Einstellungen

  - Hostname ändern
  - Systemeinstellungen je nach Wunsch ändern
  - Finder einrichten
  - Drucker anschließen und Treiber per Software Update installieren
  - SIMBL & Visor installieren
    [http://www.culater.net/software/SIMBL/SIMBL.php]
    [http://visor.binaryage.com/]
    
3.2.2 Exposé-Glow ändern
  
  # Backup der alten Expose Bilder
  $ su administrator 
  $ cd /System/Library/CoreServices/Dock.app/Contents/Resources/
  $ sudo mv expose-window-selection-big.png expose-window-selection-big.png.bak
  $ sudo mv expose-window-selection-small.png expose-window-selection-small.png.bak

  # Einfügen der neuen Expose Bilder
  $ cd -
  $ sudo mv ./expose-window-selection-big.png /System/Library/CoreServices/Dock.app/Contents/Resources/expose-window-selection-big.png
  $ sudo mv ./expose-window-selection-small.png /System/Library/CoreServices/Dock.app/Contents/Resources/expose-window-selection-small.png

3.2.3 Neues /pub anlegen
  
  # Neues /pub anlegen
  $ su administrator
  $ sudo mkdir /pub
  $ sudo chmod 755 /pub
  $ sudo chown bernhard:staff /pub
  
3.2.4 Gesicherte Dateien nach /pub kopieren

3.2.5 Symlinks setzen

  # Symlinks für dotfiles setzen
  $ ln -s /pub/Scripts/nerdtool ~/.NerdTool
  $ ln -s /pub/Scripts/dotfiles/bash_profile ~/.bash_profile
  $ ln -s /pub/Scripts/dotfiles/bash_profile ~/.bashrc
  $ ln -s /pub/Scripts/functions/ ~/.functions
  $ ln -s /pub/Scripts/ssh/ ~/.ssh
  $ ln -s /pub/Scripts/dotfiles/weatherspect ~/.weatherspect
  $ ln -s /pub/Scripts/dotfiles/gvimrc ~/.gvimrc
  
  # Symlinks für Library setzen
  $ su administrator 
  $ sudo rm -rf ~/Library/Keychains/
  $ sudo rm -rf ~/Library/Application\ Support/Adium\ 2.0/
  $ ln -s /pub/Library/Keychains/ ~/Library/Keychains/
  $ ln -s /pub/Library/Application\ Support/Adium\ 2.0/ ~/Library/Application\ Support/Adium\ 2.0/
  $ ln -s /pub/Library/Application\ Support/BetterTouchTool/ ~/Library/Application\ Support/BetterTouchTool/
  $ ln -s /pub/Library/Application\ Support/Flow/ ~/Library/Application\ Support/Flow/
  $ ln -s /pub/Library/ColorPickers ~/Library/ColorPickers
  $ ln -s /pub/Library/Screen\ Savers/ ~/Library/Screen\ Savers/
  $ ln -s /pub/Library/Services/ ~/Library/Services/

3.2.6 GUI anpassen
  
  ### Versteckte OS X Einstellungen machen
  ## Dock
  # Das Dock in den 2D Modus schalten
  $ defaults write com.apple.dock no-glass -boolean YES
 
  # Icons von versteckten Programmen transparent zeigen
  $ defaults write com.apple.Dock showhidden -bool YES
 
  # Dateien können direkt auf Programmicons gezogen werden
  $ defaults write com.apple.dock enable-spring-load-actions-on-all-items -boolean YES
 
  # Das Dock an eine der 3 Seiten bringen (Optionen sind "left", "bottom" oder "right")
  $ defaults write com.apple.dock orientation -string left
 
  # Das Dock ein einer Ecke anbringen (Optionen sind "start", "middle" oder "end")
  $ defaults write com.apple.dock pinning -string end
 
  # Programme im Dock können nicht mehr "hüpfen"
  # defaults write com.apple.dock no-bouncing -bool TRUE
 
  # Spacer im Dock gruppiert Programme
  # defaults write com.apple.dock persistent-apps -array-add '{"tile-type"="spacer-tile";}'
 
  # Klick auf Programm versteckt alle anderen Programme
  $ defaults write com.apple.dock single-app -bool TRUE
 
 
  ## Finder
  # Keine Desktop Icons anzeigen
  # defaults write com.apple.finder CreateDesktop FALSE

  # Vollstädnige Pfadangabe im Finder
  $ defaults write com.apple.finder _FXShowPosixPathInTitle -bool YES
 
  # Entfernen der Streifen in der Listenansicht
  # defaults write com.apple.finder FXListViewStripes -bool FALSE
 
  # Erweiterter "`Drucken"' Dialog als Standard
  $ defaults write -g PMPrintingExpandedStateForPrint -bool TRUE
 
  # Erweiterter "`Speichern unter"' Dialog als Standard
  $ defaults write -g NSNavPanelExpandedStateForSaveMode -bool TRUE

  # Externe Festplatten schon vor User-Login mounten
  # sudo defaults write /Library/Preferences/SystemConfiguration/autodiskmount AutomountDisksWithoutUserLogin -bool true


  # Safari öffnet ALLE Seiten als Tab
  $ defaults write com.apple.Safari TargetedClicksCreateTabs -bool true 


  ## Verschiedenes
  # Format für Screenshots ändern (Standard ist png)
  # defaults write com.apple.screencapture type png
 
  # Speicherort für Screenshorts ändern (Standard ist ~/Desktop)
  # defaults write com.apple.screencapture location /Volumes/Data/System\ Independent/ToDo
 
  # Wallpaper des Login Fensters ändern
  # defaults write /Library/Preferences/com.apple.loginwindow DesktopPicture "/System/Library/CoreServices/Finder.app/Contents/Resources/vortex.png"

  # Erweiterte Optionen für Disk Utility
  $ defaults write com.apple.DiskUtility advanced-image-options 1
 
  # Doppelte Pfeile zum Scrollen sowohl oben, als auch unten anzeigen (kann man mit den Systemeinstellungen zurücksetzen)
  # defaults write "Apple Global Domain" AppleScrollBarVariant DoubleBoth
 
  # Größe der Desktop Icons ändern
  # defaults write com.apple.finder DesktopViewOptions -dict IconSize -integer 512
 
  # Keine iTunes Store Arrows mehr
  $ defaults write com.apple.iTunes show-store-arrow-links -bool FALSE
  $ ﻿defaults write com.apple.iTunes show-store-link-arrows 0

  # Kein Ping DropDown mehr
  $ defaults write com.apple.iTunes hide-ping-dropdown 1

  # Kein Ping (und kein iTunes Store) mehr
  # defaults write com.apple.iTunes disablePingSidebar 1﻿

  # QuickLook - X-Ray Folders
  # defaults write com.apple.finder QLEnableXRayFolders 1

  # Enable Remote CD/DVD Access (for the mac _without_ the cd drive)
  # defaults write com.apple.NetworkBrowser EnableODiskBrowsing -bool true
  # defaults write com.apple.NetworkBrowser ODSSupported -bool true
 
  # Andere Listen-Ansicht in den Stacks
  # defaults write com.apple.dock use-new-list-stack -bool YES
 
 
  ## QuickTime X
  # Keine runden Ecken
  # defaults write com.apple.QuickTimePlayerX MGCinematicWindowDebugForceNoRoundedCorners 1
 
  # Niemals Fensterleiste und Controller zeigen
  # defaults write com.apple.QuickTimePlayerX MGUIVisibilityNeverAutoshow 1
 
  # Immer Fensterleiste und Controller zeigen
  # defaults write com.apple.QuickTimePlayerX MGUIVisibilityNeverAutohide 1
 
  # Niemals Fensterleiste anzeigen
  $ defaults write com.apple.QuickTimePlayerX MGCinematicWindowDebugForceNoTitlebar 1
 
  # Autoplay
  $ defaults write com.apple.QuickTimePlayerX MGPlayMovieOnOpen 1
 
  # Gleichzeitige Aufnahmen erlauben
  # defaults write com.apple.QuickTimePlayerX MGAllowMultipleSimultaneousRecordings 1
  
  
  ## Systemweit
  # Text-Ersetzung im gesamten System
  $ defaults write -g WebAutomaticTextReplacementEnabled -bool true
  $ defaults write -g WebAutomaticDashSubstitutionEnabled -bool true
  $ defaults write -g WebContinuousSpellCheckingEnabled -bool true


  # Werte setzen
  $ killall Dock
  $ killall Finder

3.2.7 Programme installieren
3.2.7.1 Pflicht
  - Air Video Server
    [http://www.inmethod.com/air-video/index.html]
  - BetterTouchTool
    [http://blog.boastr.net]
  - DaisyDisk
    [http://www.macheist.com]
  - Dropbox
    [http://www.getdropbox.com]
  - Firefox
    [http://www.mozilla.com/en-US/firefox/personal.html]
  - Flow
    [http://extendmac.com/flow]
  - Google Chrome
    [http://www.google.com/chrome]
  - Iconverter
    [http://osx.iusethis.com/app/iconverter]
  - MetaX
    [http://www.kerstetter.net/index.php/projects/software/metax]
  - JDownloader
    [http://jdownloader.org/download/index]
  - NameChanger
    [http://web.mac.com/mickeyroberson/MRR_Software/NameChanger.html]
  - NerdTool
    [http://balthamos.darkraver.net/applications.php?app=nerdtool]
  - Pixelmator
    [http://www.pixelmator.com]
  - MacTeX
    [http://www.tug.org/mactex]
  - TeamViewer
    [http://www.teamviewer.com/download/index.aspx]
  - The Unarchiver
    [http://wakaba.c3.cx/s/apps/unarchiver.html]
  - UnRarX
    [http://www.unrarx.com]
  - µTorrent
    [http://www.utorrent.com]
  - VLC
    [http://www.videolan.org/vlc]
  - VMware Fusion
    [http://www.vmware.com/products/fusion]
    
3.2.7.2 Kür

  - ZumoCast
    [http://www.zumocast.com]
  - Adium
    [http://adium.im]
  - Gluestick
    [http://consonancesw.com/gluestick]
  - Img2icns
    [http://www.img2icnsapp.com]
  - Platypus
    [http://www.sveinbjorn.org/platypus]
  - RAR Expander
    [http://rarexpander.sourceforge.net/index.html]
  - CoverSutra
    [http://www.sophiestication.com/coversutra]
  - Enigmo 2
    [http://www.pangeasoft.net/enigmo2/index.html]
  - KisMAC
    [http://trac.kismac-ng.org]
  - MacSwear
    [http://wakaba.c3.cx/s/games/macswear.html]
  - Max
    [http://sbooth.org/Max]
  - MindNode
    [http://www.mindnode.com]
  - Transmission
    [http://www.transmissionbt.com]
  - Winclone
    [http://twocanoes.com/winclone]

3.2.8 In VMware Fusion die BootCamp Partition ausblenden

  # VMware Fusion BootCamp Partition ausblenden
  # su administrator
  # sudo mv "/Library/Application Support/VMware Fusion/vmware-rawdiskCreator" "/Library/Application Support/VMware Fusion/vmware-rawdiskCreator.bak"

  - In der VM-Verwaltung: Rechtsklick -> Löschen
  
3.2.9 Zusätzliche Screen Saver installieren
  
  Vorsichtig mit Bildschirmschonern.
  Unter Mac OS X sind sie einer der häufigsten Virenverbreitungswege.
  
  - LotsaWater
    [http://wakaba.c3.cx/s/lotsablankers/lotsawater.html]
  - Analogy
    [http://www.jessonyip.com/analogy]
  - ClockSaver
    [http://clocksaver.sourceforge.net]
  - Desktop Tiles
    [http://www.edot-studios.com/webgroups2/index.php?menu_item=281]
  - Euphoria, Fireflies, Flocks, Flux & Solar Winds
    [http://s.sudre.free.fr/Software/WBSoftware.html]
  - Filigree, Ignis Fatui, Metamercury, Phantom Butterflies, Strands & Scattered Flurries
    [http://www.whiteknightlogic.net]
  - Helios & Skyrocket
    [http://seiryu.home.comcast.net/~seiryu]
  - X-Galaxy
    [http://www.multithemes.com]
  - MatrixSaver
    [http://www.nwwnetwork.net/?p=software&app=matrixsaver]
  - MovingPhotos3D
    [http://davidmcnerney.com/MovingPhotos3D/index.html]


3.2.10 "Rotate Left" & "Rotate Right" Services für Bilder im Finder einrichten

3.2.11 Benutzerbild ändern

3.2.12 Admin-User im Login-Fenster ausblenden

  ## Benutzer im Login-Fenster verstecken
  # Generell:
  # sudo defaults write /Library/Preferences/com.apple.loginwindow \
    HiddenUsersList -array-add user1 user2 user3 user4
  # user1, etc. muss der Kurzname des Benutzers sein.
  # Den kann man mit Rechtsklick auf den Benutzer in den Systemeinstellungen herausfinden 
  # Für administrator
  $ su administrator
  $ sudo defaults write /Library/Preferences/com.apple.loginwindow HiddenUsersList -array-add administrator
  # Zum wieder anzeigen:
  # sudo defaults delete /Library/Preferences/com.apple.loginwindow \
    HiddenUsersList

3.2.13 Verbose Startup aktivieren

  # Beim Mac Start alle Infos anzeigen
  # su administrator
  # sudo nvram boot-args="-v"
  # Zum deaktivieren:
  # sudo nvram boot-args=""

3.2.14 "swf"-Dateien mit Safari verknüpfen

3.2.15 Firefox- Einstellungen machen 

Im Firefox das Deutsche Wörterbuch und AdBlock+ hinzufügen
AdBlock+: Deutsche EasyList + Dr. Evil List

3.2.16 Perl Modul für Asciiquarium installieren ===

  Xcode muss bereits installiert sein!
  # Perl Modul installieren
  $ su administrator
  $ sudo perl –MCPAN –e shell
  # hit enter for automatic configuration
  # this opens the cpan shell
  $ install Term::Animation
  # and follow dependencies

3.2.17 Growl installieren

  - Herunterladen & installieren
    [http://growl.info]
  - Zusätzlich im Diskimage Ordner "Extras/growlnotify" als administrator die "install.sh" ausführen
3.2.18 MuPDF installieren ===

  - Herunterladen & Installieren (OS X Version war in den "Archiven" auf dem Fileserver) und die Binaries irgendwo ablegen.
    [http://www.mupdf.com]
    
3.2.19 git installieren

  - Herunterladen & Installieren
    [http://git-scm.com/download]
    
3.2.20 Mitwachsendes DiskImage für persönliche Daten erstellen

  Mit Hilfe von mitwachsenden DiskImages ist es ein leichtes, 
  Dateien “sicher” zu verstecken. Auf der Festplatte wird eine Datei erstellt,
  die der Finder dann als neue Festplatte mounten kann.
  Durch starke AES Verschlüsselung und gut gewählte Passwörter werden die Daten geschützt.
  
  “Disk Utility” -> “New Image”
  - Name: Image
  - Größe: 2GB
  - Format: Mac OS Extended (Journaled)
  - Verschlüsselung: höchstes nehmen
  - Partitionen: hard disk 
  - Image Format: Sparse Bundle disk image
  
  Durch die Auswahl von “Sparse Bundle DiskImage” kann TimeMachine den Image Typ erkennen
  und bei einer Datensicherung werden nur geänderte Daten übertragen - anstatt das gesamte Image.
  
  Um das Image wieder zu verkleinern (nach Datenlöschung):
  - Papierkorb leeren
  # Disk Image verkleinern
  # hdiutil compact /path/to/image.dmg  